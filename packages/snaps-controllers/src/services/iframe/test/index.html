<!DOCTYPE html>
<html>
  <head>
    <title>Sandbox test</title>
  </head>
  <body>
    <!--
      This file is used to test the sandboxing of the iframe. It is used by the
      `IframeExecutionService.test.browser.ts` test.
    -->
    <script>
      try {
        // We try to access the snap iframe document. If this works, it means
        // that the iframe is not sandboxed. Otherwise it will throw an error.
        top[0].document;

        window.parent.postMessage('Same origin frames access worked which might suggest sandboxing failed.', '*');
      } catch (e) {
        window.parent.postMessage(e.toString(), '*');
      }
    </script>
  </body>
</html>
